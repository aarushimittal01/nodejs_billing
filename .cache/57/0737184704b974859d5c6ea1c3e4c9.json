{"id":"controller/createBill.js","dependencies":[{"name":"/home/hasher/personal/interviews/azuga/billing/package.json","includedInParent":true,"mtime":1592324843408},{"name":"../constants/tax","loc":{"line":1,"column":20},"parent":"/home/hasher/personal/interviews/azuga/billing/src/controller/createBill.js","resolved":"/home/hasher/personal/interviews/azuga/billing/src/constants/tax.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createBill;\n\nvar _tax = require(\"../constants/tax\");\n\nvar _async = _interopRequireDefault(require(\"async\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createBill(req, res) {\n  try {\n    let items = req.body.items;\n    let bill = {\n      dateOfPurchase: new Date(),\n      timeOfPurchase: new Date(),\n      discount: 0,\n      totalAmount: 0\n    };\n\n    _async.default.each(items, (item, cb) => {\n      try {\n        item[\"priceBeforeTax\"] = item.quantity * item.price;\n        let taxCategory = _tax.Tax[item.itemCategory];\n        taxCategory.taxes.every((taxSlab, i) => {\n          if (item[\"priceBeforeTax\"] >= taxSlab.min) {\n            if (taxSlab.max) {\n              if (item[\"priceBeforeTax\"] <= taxSlab.max) {\n                item[\"tax\"] = parseFloat((item[\"priceBeforeTax\"] * taxSlab.value / 100).toFixed(2));\n                item[\"finalPrice\"] = item[\"priceBeforeTax\"] + item[\"tax\"];\n                bill.totalAmount = item[\"finalPrice\"];\n                return false;\n              }\n            } else {\n              item[\"tax\"] = parseFloat((item[\"priceBeforeTax\"] * taxSlab.value / 100).toFixed(2));\n              item[\"finalPrice\"] = item[\"priceBeforeTax\"] + item[\"tax\"];\n              bill.totalAmount += item[\"finalPrice\"];\n              return false;\n            }\n          }\n\n          return true;\n        });\n        cb();\n      } catch (e) {\n        cb(e);\n      }\n    }, err => {\n      if (err) {\n        console.log(\"Error occured while creating bill : \", err);\n        res.status(500).json(\"Error in creating bill\");\n      }\n    });\n    /* Using Promises\n    calculateBill(item) {\n        return new Promise((resolve, reject) => {\n            resolve(item)\n            reject({message: , error})\n        })\n    }\n    calculatediscount() {\n        Tax[\"total\"]\n        resolve(bill)\n     }\n     Promise.all([calculateBill(0), calculateBill(1)])\n        .then(results => {\n            if (results && results.length) {\n                results[0] = item[0]\n            }\n            bill.items.push(results[i])\n            return calculatediscount(bill)\n        })\n        .then(bill => {\n            res.status(200).json(bill)\n        })\n        .catch(e => {\n            console.log()\n            res.status(500).json({message: })\n        })\n    \n    */\n\n\n    bill[\"items\"] = items;\n\n    if (_tax.Tax[\"Total\"] && _tax.Tax[\"Total\"].discounts && _tax.Tax[\"Total\"].discounts.length) {\n      _tax.Tax[\"Total\"].discounts.every((discountSlab, i) => {\n        if (bill[\"totalAmount\"] >= discountSlab.min) {\n          if (discountSlab.max) {\n            if (discountSlab.max >= bill[\"totalAmount\"]) {\n              bill[\"discount\"] = parseFloat((bill[\"totalAmount\"] * discountSlab.value / 100).toFixed(2));\n              bill.totalAmount = bill.totalAmount - bill[\"discount\"];\n              return false;\n            }\n          } else {\n            bill[\"discount\"] = parseFloat((bill[\"totalAmount\"] * discountSlab.value / 100).toFixed(2));\n            bill.totalAmount = bill.totalAmount - bill[\"discount\"];\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n\n    res.status(200).json(bill);\n  } catch (e) {\n    console.log(\"Error occured while creating bill : \", e);\n    res.status(500).json(\"Error in creating bill\");\n  }\n}"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"controller/createBill.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"controller/createBill.js","original":{"line":2,"column":0}},{"generated":{"line":14,"column":0},"source":"controller/createBill.js","original":{"line":4,"column":15}},{"name":"createBill","generated":{"line":14,"column":9},"source":"controller/createBill.js","original":{"line":4,"column":24}},{"generated":{"line":14,"column":19},"source":"controller/createBill.js","original":{"line":4,"column":15}},{"name":"req","generated":{"line":14,"column":20},"source":"controller/createBill.js","original":{"line":4,"column":35}},{"generated":{"line":14,"column":23},"source":"controller/createBill.js","original":{"line":4,"column":15}},{"name":"res","generated":{"line":14,"column":25},"source":"controller/createBill.js","original":{"line":4,"column":40}},{"generated":{"line":14,"column":28},"source":"controller/createBill.js","original":{"line":4,"column":15}},{"generated":{"line":14,"column":30},"source":"controller/createBill.js","original":{"line":4,"column":45}},{"generated":{"line":15,"column":0},"source":"controller/createBill.js","original":{"line":5,"column":4}},{"generated":{"line":15,"column":6},"source":"controller/createBill.js","original":{"line":5,"column":8}},{"generated":{"line":16,"column":0},"source":"controller/createBill.js","original":{"line":6,"column":8}},{"name":"items","generated":{"line":16,"column":8},"source":"controller/createBill.js","original":{"line":6,"column":12}},{"generated":{"line":16,"column":13},"source":"controller/createBill.js","original":{"line":6,"column":17}},{"name":"req","generated":{"line":16,"column":16},"source":"controller/createBill.js","original":{"line":6,"column":20}},{"generated":{"line":16,"column":19},"source":"controller/createBill.js","original":{"line":6,"column":23}},{"name":"body","generated":{"line":16,"column":20},"source":"controller/createBill.js","original":{"line":6,"column":24}},{"generated":{"line":16,"column":24},"source":"controller/createBill.js","original":{"line":6,"column":20}},{"name":"items","generated":{"line":16,"column":25},"source":"controller/createBill.js","original":{"line":6,"column":29}},{"generated":{"line":16,"column":30},"source":"controller/createBill.js","original":{"line":6,"column":8}},{"generated":{"line":17,"column":0},"source":"controller/createBill.js","original":{"line":7,"column":8}},{"name":"bill","generated":{"line":17,"column":8},"source":"controller/createBill.js","original":{"line":7,"column":12}},{"generated":{"line":17,"column":12},"source":"controller/createBill.js","original":{"line":7,"column":16}},{"generated":{"line":17,"column":15},"source":"controller/createBill.js","original":{"line":7,"column":19}},{"name":"dateOfPurchase","generated":{"line":18,"column":0},"source":"controller/createBill.js","original":{"line":8,"column":12}},{"name":"dateOfPurchase","generated":{"line":18,"column":6},"source":"controller/createBill.js","original":{"line":8,"column":12}},{"generated":{"line":18,"column":20},"source":"controller/createBill.js","original":{"line":8,"column":26}},{"generated":{"line":18,"column":22},"source":"controller/createBill.js","original":{"line":8,"column":28}},{"name":"Date","generated":{"line":18,"column":26},"source":"controller/createBill.js","original":{"line":8,"column":32}},{"generated":{"line":18,"column":30},"source":"controller/createBill.js","original":{"line":8,"column":28}},{"generated":{"line":18,"column":32},"source":"controller/createBill.js","original":{"line":7,"column":19}},{"name":"timeOfPurchase","generated":{"line":19,"column":0},"source":"controller/createBill.js","original":{"line":9,"column":12}},{"name":"timeOfPurchase","generated":{"line":19,"column":6},"source":"controller/createBill.js","original":{"line":9,"column":12}},{"generated":{"line":19,"column":20},"source":"controller/createBill.js","original":{"line":9,"column":26}},{"generated":{"line":19,"column":22},"source":"controller/createBill.js","original":{"line":9,"column":28}},{"name":"Date","generated":{"line":19,"column":26},"source":"controller/createBill.js","original":{"line":9,"column":32}},{"generated":{"line":19,"column":30},"source":"controller/createBill.js","original":{"line":9,"column":28}},{"generated":{"line":19,"column":32},"source":"controller/createBill.js","original":{"line":7,"column":19}},{"name":"discount","generated":{"line":20,"column":0},"source":"controller/createBill.js","original":{"line":10,"column":12}},{"name":"discount","generated":{"line":20,"column":6},"source":"controller/createBill.js","original":{"line":10,"column":12}},{"generated":{"line":20,"column":14},"source":"controller/createBill.js","original":{"line":10,"column":20}},{"generated":{"line":20,"column":16},"source":"controller/createBill.js","original":{"line":10,"column":22}},{"generated":{"line":20,"column":17},"source":"controller/createBill.js","original":{"line":7,"column":19}},{"name":"totalAmount","generated":{"line":21,"column":0},"source":"controller/createBill.js","original":{"line":11,"column":12}},{"name":"totalAmount","generated":{"line":21,"column":6},"source":"controller/createBill.js","original":{"line":11,"column":12}},{"generated":{"line":21,"column":17},"source":"controller/createBill.js","original":{"line":11,"column":23}},{"generated":{"line":21,"column":19},"source":"controller/createBill.js","original":{"line":11,"column":25}},{"generated":{"line":22,"column":0},"source":"controller/createBill.js","original":{"line":7,"column":19}},{"generated":{"line":22,"column":5},"source":"controller/createBill.js","original":{"line":7,"column":8}},{"name":"async","generated":{"line":24,"column":0},"source":"controller/createBill.js","original":{"line":14,"column":8}},{"name":"each","generated":{"line":24,"column":19},"source":"controller/createBill.js","original":{"line":14,"column":14}},{"generated":{"line":24,"column":23},"source":"controller/createBill.js","original":{"line":14,"column":8}},{"name":"items","generated":{"line":24,"column":24},"source":"controller/createBill.js","original":{"line":14,"column":19}},{"generated":{"line":24,"column":29},"source":"controller/createBill.js","original":{"line":14,"column":8}},{"generated":{"line":24,"column":31},"source":"controller/createBill.js","original":{"line":14,"column":26}},{"name":"item","generated":{"line":24,"column":32},"source":"controller/createBill.js","original":{"line":14,"column":27}},{"generated":{"line":24,"column":36},"source":"controller/createBill.js","original":{"line":14,"column":26}},{"name":"cb","generated":{"line":24,"column":38},"source":"controller/createBill.js","original":{"line":14,"column":33}},{"generated":{"line":24,"column":40},"source":"controller/createBill.js","original":{"line":14,"column":26}},{"generated":{"line":24,"column":45},"source":"controller/createBill.js","original":{"line":14,"column":40}},{"generated":{"line":25,"column":0},"source":"controller/createBill.js","original":{"line":15,"column":12}},{"generated":{"line":25,"column":10},"source":"controller/createBill.js","original":{"line":15,"column":16}},{"name":"item","generated":{"line":26,"column":0},"source":"controller/createBill.js","original":{"line":16,"column":16}},{"name":"item","generated":{"line":26,"column":8},"source":"controller/createBill.js","original":{"line":16,"column":16}},{"generated":{"line":26,"column":12},"source":"controller/createBill.js","original":{"line":16,"column":20}},{"generated":{"line":26,"column":13},"source":"controller/createBill.js","original":{"line":16,"column":21}},{"generated":{"line":26,"column":29},"source":"controller/createBill.js","original":{"line":16,"column":20}},{"generated":{"line":26,"column":30},"source":"controller/createBill.js","original":{"line":16,"column":16}},{"name":"item","generated":{"line":26,"column":33},"source":"controller/createBill.js","original":{"line":16,"column":41}},{"generated":{"line":26,"column":37},"source":"controller/createBill.js","original":{"line":16,"column":45}},{"name":"quantity","generated":{"line":26,"column":38},"source":"controller/createBill.js","original":{"line":16,"column":46}},{"generated":{"line":26,"column":46},"source":"controller/createBill.js","original":{"line":16,"column":41}},{"name":"item","generated":{"line":26,"column":49},"source":"controller/createBill.js","original":{"line":16,"column":57}},{"generated":{"line":26,"column":53},"source":"controller/createBill.js","original":{"line":16,"column":61}},{"name":"price","generated":{"line":26,"column":54},"source":"controller/createBill.js","original":{"line":16,"column":62}},{"generated":{"line":26,"column":59},"source":"controller/createBill.js","original":{"line":16,"column":16}},{"generated":{"line":27,"column":0},"source":"controller/createBill.js","original":{"line":17,"column":16}},{"name":"taxCategory","generated":{"line":27,"column":12},"source":"controller/createBill.js","original":{"line":17,"column":20}},{"generated":{"line":27,"column":23},"source":"controller/createBill.js","original":{"line":17,"column":31}},{"name":"Tax","generated":{"line":27,"column":26},"source":"controller/createBill.js","original":{"line":17,"column":34}},{"name":"item","generated":{"line":27,"column":35},"source":"controller/createBill.js","original":{"line":17,"column":38}},{"generated":{"line":27,"column":39},"source":"controller/createBill.js","original":{"line":17,"column":42}},{"name":"itemCategory","generated":{"line":27,"column":40},"source":"controller/createBill.js","original":{"line":17,"column":43}},{"generated":{"line":27,"column":52},"source":"controller/createBill.js","original":{"line":17,"column":34}},{"generated":{"line":27,"column":53},"source":"controller/createBill.js","original":{"line":17,"column":16}},{"name":"taxCategory","generated":{"line":28,"column":0},"source":"controller/createBill.js","original":{"line":18,"column":16}},{"name":"taxCategory","generated":{"line":28,"column":8},"source":"controller/createBill.js","original":{"line":18,"column":16}},{"generated":{"line":28,"column":19},"source":"controller/createBill.js","original":{"line":18,"column":27}},{"name":"taxes","generated":{"line":28,"column":20},"source":"controller/createBill.js","original":{"line":18,"column":28}},{"generated":{"line":28,"column":25},"source":"controller/createBill.js","original":{"line":18,"column":16}},{"name":"every","generated":{"line":28,"column":26},"source":"controller/createBill.js","original":{"line":18,"column":34}},{"generated":{"line":28,"column":31},"source":"controller/createBill.js","original":{"line":18,"column":16}},{"generated":{"line":28,"column":32},"source":"controller/createBill.js","original":{"line":18,"column":40}},{"name":"taxSlab","generated":{"line":28,"column":33},"source":"controller/createBill.js","original":{"line":18,"column":41}},{"generated":{"line":28,"column":40},"source":"controller/createBill.js","original":{"line":18,"column":40}},{"name":"i","generated":{"line":28,"column":42},"source":"controller/createBill.js","original":{"line":18,"column":50}},{"generated":{"line":28,"column":43},"source":"controller/createBill.js","original":{"line":18,"column":40}},{"generated":{"line":28,"column":48},"source":"controller/createBill.js","original":{"line":18,"column":56}},{"generated":{"line":29,"column":0},"source":"controller/createBill.js","original":{"line":19,"column":20}},{"name":"item","generated":{"line":29,"column":14},"source":"controller/createBill.js","original":{"line":19,"column":23}},{"generated":{"line":29,"column":18},"source":"controller/createBill.js","original":{"line":19,"column":27}},{"generated":{"line":29,"column":19},"source":"controller/createBill.js","original":{"line":19,"column":28}},{"generated":{"line":29,"column":35},"source":"controller/createBill.js","original":{"line":19,"column":27}},{"generated":{"line":29,"column":36},"source":"controller/createBill.js","original":{"line":19,"column":23}},{"name":"taxSlab","generated":{"line":29,"column":40},"source":"controller/createBill.js","original":{"line":19,"column":49}},{"generated":{"line":29,"column":47},"source":"controller/createBill.js","original":{"line":19,"column":56}},{"name":"min","generated":{"line":29,"column":48},"source":"controller/createBill.js","original":{"line":19,"column":57}},{"generated":{"line":29,"column":51},"source":"controller/createBill.js","original":{"line":19,"column":20}},{"generated":{"line":29,"column":53},"source":"controller/createBill.js","original":{"line":19,"column":62}},{"generated":{"line":30,"column":0},"source":"controller/createBill.js","original":{"line":20,"column":24}},{"name":"taxSlab","generated":{"line":30,"column":16},"source":"controller/createBill.js","original":{"line":20,"column":27}},{"generated":{"line":30,"column":23},"source":"controller/createBill.js","original":{"line":20,"column":34}},{"name":"max","generated":{"line":30,"column":24},"source":"controller/createBill.js","original":{"line":20,"column":35}},{"generated":{"line":30,"column":27},"source":"controller/createBill.js","original":{"line":20,"column":24}},{"generated":{"line":30,"column":29},"source":"controller/createBill.js","original":{"line":20,"column":39}},{"generated":{"line":31,"column":0},"source":"controller/createBill.js","original":{"line":21,"column":28}},{"name":"item","generated":{"line":31,"column":18},"source":"controller/createBill.js","original":{"line":21,"column":31}},{"generated":{"line":31,"column":22},"source":"controller/createBill.js","original":{"line":21,"column":35}},{"generated":{"line":31,"column":23},"source":"controller/createBill.js","original":{"line":21,"column":36}},{"generated":{"line":31,"column":39},"source":"controller/createBill.js","original":{"line":21,"column":35}},{"generated":{"line":31,"column":40},"source":"controller/createBill.js","original":{"line":21,"column":31}},{"name":"taxSlab","generated":{"line":31,"column":44},"source":"controller/createBill.js","original":{"line":21,"column":57}},{"generated":{"line":31,"column":51},"source":"controller/createBill.js","original":{"line":21,"column":64}},{"name":"max","generated":{"line":31,"column":52},"source":"controller/createBill.js","original":{"line":21,"column":65}},{"generated":{"line":31,"column":55},"source":"controller/createBill.js","original":{"line":21,"column":28}},{"generated":{"line":31,"column":57},"source":"controller/createBill.js","original":{"line":21,"column":70}},{"name":"item","generated":{"line":32,"column":0},"source":"controller/createBill.js","original":{"line":22,"column":32}},{"name":"item","generated":{"line":32,"column":16},"source":"controller/createBill.js","original":{"line":22,"column":32}},{"generated":{"line":32,"column":20},"source":"controller/createBill.js","original":{"line":22,"column":36}},{"generated":{"line":32,"column":21},"source":"controller/createBill.js","original":{"line":22,"column":37}},{"generated":{"line":32,"column":26},"source":"controller/createBill.js","original":{"line":22,"column":36}},{"generated":{"line":32,"column":27},"source":"controller/createBill.js","original":{"line":22,"column":32}},{"name":"parseFloat","generated":{"line":32,"column":30},"source":"controller/createBill.js","original":{"line":22,"column":46}},{"generated":{"line":32,"column":40},"source":"controller/createBill.js","original":{"line":22,"column":56}},{"generated":{"line":32,"column":41},"source":"controller/createBill.js","original":{"line":22,"column":57}},{"name":"item","generated":{"line":32,"column":42},"source":"controller/createBill.js","original":{"line":22,"column":58}},{"generated":{"line":32,"column":46},"source":"controller/createBill.js","original":{"line":22,"column":62}},{"generated":{"line":32,"column":47},"source":"controller/createBill.js","original":{"line":22,"column":63}},{"generated":{"line":32,"column":63},"source":"controller/createBill.js","original":{"line":22,"column":62}},{"generated":{"line":32,"column":64},"source":"controller/createBill.js","original":{"line":22,"column":58}},{"name":"taxSlab","generated":{"line":32,"column":67},"source":"controller/createBill.js","original":{"line":22,"column":83}},{"generated":{"line":32,"column":74},"source":"controller/createBill.js","original":{"line":22,"column":90}},{"name":"value","generated":{"line":32,"column":75},"source":"controller/createBill.js","original":{"line":22,"column":91}},{"generated":{"line":32,"column":80},"source":"controller/createBill.js","original":{"line":22,"column":58}},{"generated":{"line":32,"column":83},"source":"controller/createBill.js","original":{"line":22,"column":99}},{"generated":{"line":32,"column":86},"source":"controller/createBill.js","original":{"line":22,"column":57}},{"name":"toFixed","generated":{"line":32,"column":88},"source":"controller/createBill.js","original":{"line":22,"column":104}},{"generated":{"line":32,"column":95},"source":"controller/createBill.js","original":{"line":22,"column":57}},{"generated":{"line":32,"column":96},"source":"controller/createBill.js","original":{"line":22,"column":112}},{"generated":{"line":32,"column":97},"source":"controller/createBill.js","original":{"line":22,"column":57}},{"generated":{"line":32,"column":98},"source":"controller/createBill.js","original":{"line":22,"column":56}},{"generated":{"line":32,"column":99},"source":"controller/createBill.js","original":{"line":22,"column":32}},{"name":"item","generated":{"line":33,"column":0},"source":"controller/createBill.js","original":{"line":23,"column":32}},{"name":"item","generated":{"line":33,"column":16},"source":"controller/createBill.js","original":{"line":23,"column":32}},{"generated":{"line":33,"column":20},"source":"controller/createBill.js","original":{"line":23,"column":36}},{"generated":{"line":33,"column":21},"source":"controller/createBill.js","original":{"line":23,"column":37}},{"generated":{"line":33,"column":33},"source":"controller/createBill.js","original":{"line":23,"column":36}},{"generated":{"line":33,"column":34},"source":"controller/createBill.js","original":{"line":23,"column":32}},{"name":"item","generated":{"line":33,"column":37},"source":"controller/createBill.js","original":{"line":23,"column":53}},{"generated":{"line":33,"column":41},"source":"controller/createBill.js","original":{"line":23,"column":57}},{"generated":{"line":33,"column":42},"source":"controller/createBill.js","original":{"line":23,"column":58}},{"generated":{"line":33,"column":58},"source":"controller/createBill.js","original":{"line":23,"column":57}},{"generated":{"line":33,"column":59},"source":"controller/createBill.js","original":{"line":23,"column":53}},{"name":"item","generated":{"line":33,"column":62},"source":"controller/createBill.js","original":{"line":23,"column":78}},{"generated":{"line":33,"column":66},"source":"controller/createBill.js","original":{"line":23,"column":82}},{"generated":{"line":33,"column":67},"source":"controller/createBill.js","original":{"line":23,"column":83}},{"generated":{"line":33,"column":72},"source":"controller/createBill.js","original":{"line":23,"column":82}},{"generated":{"line":33,"column":73},"source":"controller/createBill.js","original":{"line":23,"column":32}},{"name":"bill","generated":{"line":34,"column":0},"source":"controller/createBill.js","original":{"line":24,"column":32}},{"name":"bill","generated":{"line":34,"column":16},"source":"controller/createBill.js","original":{"line":24,"column":32}},{"generated":{"line":34,"column":20},"source":"controller/createBill.js","original":{"line":24,"column":36}},{"name":"totalAmount","generated":{"line":34,"column":21},"source":"controller/createBill.js","original":{"line":24,"column":37}},{"generated":{"line":34,"column":32},"source":"controller/createBill.js","original":{"line":24,"column":32}},{"name":"item","generated":{"line":34,"column":35},"source":"controller/createBill.js","original":{"line":24,"column":51}},{"generated":{"line":34,"column":39},"source":"controller/createBill.js","original":{"line":24,"column":55}},{"generated":{"line":34,"column":40},"source":"controller/createBill.js","original":{"line":24,"column":56}},{"generated":{"line":34,"column":52},"source":"controller/createBill.js","original":{"line":24,"column":55}},{"generated":{"line":34,"column":53},"source":"controller/createBill.js","original":{"line":24,"column":32}},{"generated":{"line":35,"column":0},"source":"controller/createBill.js","original":{"line":25,"column":32}},{"generated":{"line":35,"column":23},"source":"controller/createBill.js","original":{"line":25,"column":39}},{"generated":{"line":35,"column":28},"source":"controller/createBill.js","original":{"line":25,"column":32}},{"generated":{"line":36,"column":0},"source":"controller/createBill.js","original":{"line":26,"column":29}},{"generated":{"line":37,"column":0},"source":"controller/createBill.js","original":{"line":27,"column":25}},{"generated":{"line":37,"column":13},"source":"controller/createBill.js","original":{"line":20,"column":24}},{"generated":{"line":37,"column":19},"source":"controller/createBill.js","original":{"line":27,"column":31}},{"name":"item","generated":{"line":38,"column":0},"source":"controller/createBill.js","original":{"line":28,"column":28}},{"name":"item","generated":{"line":38,"column":14},"source":"controller/createBill.js","original":{"line":28,"column":28}},{"generated":{"line":38,"column":18},"source":"controller/createBill.js","original":{"line":28,"column":32}},{"generated":{"line":38,"column":19},"source":"controller/createBill.js","original":{"line":28,"column":33}},{"generated":{"line":38,"column":24},"source":"controller/createBill.js","original":{"line":28,"column":32}},{"generated":{"line":38,"column":25},"source":"controller/createBill.js","original":{"line":28,"column":28}},{"name":"parseFloat","generated":{"line":38,"column":28},"source":"controller/createBill.js","original":{"line":28,"column":42}},{"generated":{"line":38,"column":38},"source":"controller/createBill.js","original":{"line":28,"column":52}},{"generated":{"line":38,"column":39},"source":"controller/createBill.js","original":{"line":28,"column":53}},{"name":"item","generated":{"line":38,"column":40},"source":"controller/createBill.js","original":{"line":28,"column":54}},{"generated":{"line":38,"column":44},"source":"controller/createBill.js","original":{"line":28,"column":58}},{"generated":{"line":38,"column":45},"source":"controller/createBill.js","original":{"line":28,"column":59}},{"generated":{"line":38,"column":61},"source":"controller/createBill.js","original":{"line":28,"column":58}},{"generated":{"line":38,"column":62},"source":"controller/createBill.js","original":{"line":28,"column":54}},{"name":"taxSlab","generated":{"line":38,"column":65},"source":"controller/createBill.js","original":{"line":28,"column":79}},{"generated":{"line":38,"column":72},"source":"controller/createBill.js","original":{"line":28,"column":86}},{"name":"value","generated":{"line":38,"column":73},"source":"controller/createBill.js","original":{"line":28,"column":87}},{"generated":{"line":38,"column":78},"source":"controller/createBill.js","original":{"line":28,"column":54}},{"generated":{"line":38,"column":81},"source":"controller/createBill.js","original":{"line":28,"column":95}},{"generated":{"line":38,"column":84},"source":"controller/createBill.js","original":{"line":28,"column":53}},{"name":"toFixed","generated":{"line":38,"column":86},"source":"controller/createBill.js","original":{"line":28,"column":100}},{"generated":{"line":38,"column":93},"source":"controller/createBill.js","original":{"line":28,"column":53}},{"generated":{"line":38,"column":94},"source":"controller/createBill.js","original":{"line":28,"column":108}},{"generated":{"line":38,"column":95},"source":"controller/createBill.js","original":{"line":28,"column":53}},{"generated":{"line":38,"column":96},"source":"controller/createBill.js","original":{"line":28,"column":52}},{"generated":{"line":38,"column":97},"source":"controller/createBill.js","original":{"line":28,"column":28}},{"name":"item","generated":{"line":39,"column":0},"source":"controller/createBill.js","original":{"line":29,"column":28}},{"name":"item","generated":{"line":39,"column":14},"source":"controller/createBill.js","original":{"line":29,"column":28}},{"generated":{"line":39,"column":18},"source":"controller/createBill.js","original":{"line":29,"column":32}},{"generated":{"line":39,"column":19},"source":"controller/createBill.js","original":{"line":29,"column":33}},{"generated":{"line":39,"column":31},"source":"controller/createBill.js","original":{"line":29,"column":32}},{"generated":{"line":39,"column":32},"source":"controller/createBill.js","original":{"line":29,"column":28}},{"name":"item","generated":{"line":39,"column":35},"source":"controller/createBill.js","original":{"line":29,"column":49}},{"generated":{"line":39,"column":39},"source":"controller/createBill.js","original":{"line":29,"column":53}},{"generated":{"line":39,"column":40},"source":"controller/createBill.js","original":{"line":29,"column":54}},{"generated":{"line":39,"column":56},"source":"controller/createBill.js","original":{"line":29,"column":53}},{"generated":{"line":39,"column":57},"source":"controller/createBill.js","original":{"line":29,"column":49}},{"name":"item","generated":{"line":39,"column":60},"source":"controller/createBill.js","original":{"line":29,"column":74}},{"generated":{"line":39,"column":64},"source":"controller/createBill.js","original":{"line":29,"column":78}},{"generated":{"line":39,"column":65},"source":"controller/createBill.js","original":{"line":29,"column":79}},{"generated":{"line":39,"column":70},"source":"controller/createBill.js","original":{"line":29,"column":78}},{"generated":{"line":39,"column":71},"source":"controller/createBill.js","original":{"line":29,"column":28}},{"name":"bill","generated":{"line":40,"column":0},"source":"controller/createBill.js","original":{"line":30,"column":28}},{"name":"bill","generated":{"line":40,"column":14},"source":"controller/createBill.js","original":{"line":30,"column":28}},{"generated":{"line":40,"column":18},"source":"controller/createBill.js","original":{"line":30,"column":32}},{"name":"totalAmount","generated":{"line":40,"column":19},"source":"controller/createBill.js","original":{"line":30,"column":33}},{"generated":{"line":40,"column":30},"source":"controller/createBill.js","original":{"line":30,"column":28}},{"name":"item","generated":{"line":40,"column":34},"source":"controller/createBill.js","original":{"line":30,"column":48}},{"generated":{"line":40,"column":38},"source":"controller/createBill.js","original":{"line":30,"column":52}},{"generated":{"line":40,"column":39},"source":"controller/createBill.js","original":{"line":30,"column":53}},{"generated":{"line":40,"column":51},"source":"controller/createBill.js","original":{"line":30,"column":52}},{"generated":{"line":40,"column":52},"source":"controller/createBill.js","original":{"line":30,"column":28}},{"generated":{"line":41,"column":0},"source":"controller/createBill.js","original":{"line":31,"column":28}},{"generated":{"line":41,"column":21},"source":"controller/createBill.js","original":{"line":31,"column":35}},{"generated":{"line":41,"column":26},"source":"controller/createBill.js","original":{"line":31,"column":28}},{"generated":{"line":42,"column":0},"source":"controller/createBill.js","original":{"line":32,"column":25}},{"generated":{"line":43,"column":0},"source":"controller/createBill.js","original":{"line":33,"column":21}},{"generated":{"line":45,"column":0},"source":"controller/createBill.js","original":{"line":34,"column":20}},{"generated":{"line":45,"column":17},"source":"controller/createBill.js","original":{"line":34,"column":27}},{"generated":{"line":45,"column":21},"source":"controller/createBill.js","original":{"line":34,"column":20}},{"generated":{"line":46,"column":0},"source":"controller/createBill.js","original":{"line":35,"column":17}},{"generated":{"line":46,"column":9},"source":"controller/createBill.js","original":{"line":18,"column":16}},{"name":"cb","generated":{"line":47,"column":0},"source":"controller/createBill.js","original":{"line":36,"column":16}},{"name":"cb","generated":{"line":47,"column":8},"source":"controller/createBill.js","original":{"line":36,"column":16}},{"generated":{"line":47,"column":10},"source":"controller/createBill.js","original":{"line":36,"column":18}},{"generated":{"line":48,"column":0},"source":"controller/createBill.js","original":{"line":37,"column":13}},{"generated":{"line":48,"column":7},"source":"controller/createBill.js","original":{"line":15,"column":12}},{"generated":{"line":48,"column":8},"source":"controller/createBill.js","original":{"line":37,"column":14}},{"name":"e","generated":{"line":48,"column":15},"source":"controller/createBill.js","original":{"line":37,"column":21}},{"generated":{"line":48,"column":16},"source":"controller/createBill.js","original":{"line":37,"column":14}},{"generated":{"line":48,"column":18},"source":"controller/createBill.js","original":{"line":37,"column":24}},{"name":"cb","generated":{"line":49,"column":0},"source":"controller/createBill.js","original":{"line":38,"column":16}},{"name":"cb","generated":{"line":49,"column":8},"source":"controller/createBill.js","original":{"line":38,"column":16}},{"generated":{"line":49,"column":10},"source":"controller/createBill.js","original":{"line":38,"column":18}},{"name":"e","generated":{"line":49,"column":11},"source":"controller/createBill.js","original":{"line":38,"column":19}},{"generated":{"line":49,"column":12},"source":"controller/createBill.js","original":{"line":38,"column":18}},{"generated":{"line":49,"column":13},"source":"controller/createBill.js","original":{"line":38,"column":16}},{"generated":{"line":50,"column":0},"source":"controller/createBill.js","original":{"line":39,"column":13}},{"generated":{"line":51,"column":0},"source":"controller/createBill.js","original":{"line":40,"column":9}},{"generated":{"line":51,"column":5},"source":"controller/createBill.js","original":{"line":14,"column":8}},{"name":"err","generated":{"line":51,"column":7},"source":"controller/createBill.js","original":{"line":40,"column":12}},{"generated":{"line":51,"column":10},"source":"controller/createBill.js","original":{"line":40,"column":11}},{"generated":{"line":51,"column":14},"source":"controller/createBill.js","original":{"line":40,"column":20}},{"generated":{"line":52,"column":0},"source":"controller/createBill.js","original":{"line":41,"column":12}},{"name":"err","generated":{"line":52,"column":10},"source":"controller/createBill.js","original":{"line":41,"column":16}},{"generated":{"line":52,"column":13},"source":"controller/createBill.js","original":{"line":41,"column":12}},{"generated":{"line":52,"column":15},"source":"controller/createBill.js","original":{"line":41,"column":21}},{"name":"console","generated":{"line":53,"column":0},"source":"controller/createBill.js","original":{"line":42,"column":16}},{"name":"console","generated":{"line":53,"column":8},"source":"controller/createBill.js","original":{"line":42,"column":16}},{"generated":{"line":53,"column":15},"source":"controller/createBill.js","original":{"line":42,"column":23}},{"name":"log","generated":{"line":53,"column":16},"source":"controller/createBill.js","original":{"line":42,"column":24}},{"generated":{"line":53,"column":19},"source":"controller/createBill.js","original":{"line":42,"column":16}},{"generated":{"line":53,"column":20},"source":"controller/createBill.js","original":{"line":42,"column":28}},{"generated":{"line":53,"column":58},"source":"controller/createBill.js","original":{"line":42,"column":16}},{"name":"err","generated":{"line":53,"column":60},"source":"controller/createBill.js","original":{"line":42,"column":68}},{"generated":{"line":53,"column":63},"source":"controller/createBill.js","original":{"line":42,"column":16}},{"name":"res","generated":{"line":54,"column":0},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"name":"res","generated":{"line":54,"column":8},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"generated":{"line":54,"column":11},"source":"controller/createBill.js","original":{"line":43,"column":19}},{"name":"status","generated":{"line":54,"column":12},"source":"controller/createBill.js","original":{"line":43,"column":20}},{"generated":{"line":54,"column":18},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"generated":{"line":54,"column":19},"source":"controller/createBill.js","original":{"line":43,"column":27}},{"generated":{"line":54,"column":22},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"name":"json","generated":{"line":54,"column":24},"source":"controller/createBill.js","original":{"line":43,"column":32}},{"generated":{"line":54,"column":28},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"generated":{"line":54,"column":29},"source":"controller/createBill.js","original":{"line":43,"column":37}},{"generated":{"line":54,"column":53},"source":"controller/createBill.js","original":{"line":43,"column":16}},{"generated":{"line":55,"column":0},"source":"controller/createBill.js","original":{"line":44,"column":13}},{"generated":{"line":56,"column":0},"source":"controller/createBill.js","original":{"line":45,"column":9}},{"generated":{"line":56,"column":5},"source":"controller/createBill.js","original":{"line":14,"column":8}},{"generated":{"line":57,"column":0},"source":"controller/createBill.js","original":{"line":47,"column":8}},{"name":"bill","generated":{"line":87,"column":0},"source":"controller/createBill.js","original":{"line":78,"column":8}},{"name":"bill","generated":{"line":87,"column":4},"source":"controller/createBill.js","original":{"line":78,"column":8}},{"generated":{"line":87,"column":8},"source":"controller/createBill.js","original":{"line":78,"column":12}},{"generated":{"line":87,"column":9},"source":"controller/createBill.js","original":{"line":78,"column":13}},{"generated":{"line":87,"column":16},"source":"controller/createBill.js","original":{"line":78,"column":12}},{"generated":{"line":87,"column":17},"source":"controller/createBill.js","original":{"line":78,"column":8}},{"name":"items","generated":{"line":87,"column":20},"source":"controller/createBill.js","original":{"line":78,"column":24}},{"generated":{"line":87,"column":25},"source":"controller/createBill.js","original":{"line":78,"column":8}},{"generated":{"line":89,"column":0},"source":"controller/createBill.js","original":{"line":80,"column":8}},{"name":"Tax","generated":{"line":89,"column":8},"source":"controller/createBill.js","original":{"line":80,"column":12}},{"generated":{"line":89,"column":17},"source":"controller/createBill.js","original":{"line":80,"column":16}},{"generated":{"line":89,"column":24},"source":"controller/createBill.js","original":{"line":80,"column":12}},{"name":"Tax","generated":{"line":89,"column":29},"source":"controller/createBill.js","original":{"line":80,"column":28}},{"generated":{"line":89,"column":38},"source":"controller/createBill.js","original":{"line":80,"column":32}},{"generated":{"line":89,"column":45},"source":"controller/createBill.js","original":{"line":80,"column":28}},{"name":"discounts","generated":{"line":89,"column":47},"source":"controller/createBill.js","original":{"line":80,"column":41}},{"generated":{"line":89,"column":56},"source":"controller/createBill.js","original":{"line":80,"column":12}},{"name":"Tax","generated":{"line":89,"column":60},"source":"controller/createBill.js","original":{"line":80,"column":54}},{"generated":{"line":89,"column":69},"source":"controller/createBill.js","original":{"line":80,"column":58}},{"generated":{"line":89,"column":76},"source":"controller/createBill.js","original":{"line":80,"column":54}},{"name":"discounts","generated":{"line":89,"column":78},"source":"controller/createBill.js","original":{"line":80,"column":67}},{"generated":{"line":89,"column":87},"source":"controller/createBill.js","original":{"line":80,"column":54}},{"name":"length","generated":{"line":89,"column":88},"source":"controller/createBill.js","original":{"line":80,"column":77}},{"generated":{"line":89,"column":94},"source":"controller/createBill.js","original":{"line":80,"column":8}},{"generated":{"line":89,"column":96},"source":"controller/createBill.js","original":{"line":80,"column":85}},{"name":"Tax","generated":{"line":90,"column":0},"source":"controller/createBill.js","original":{"line":81,"column":12}},{"generated":{"line":90,"column":15},"source":"controller/createBill.js","original":{"line":81,"column":16}},{"generated":{"line":90,"column":22},"source":"controller/createBill.js","original":{"line":81,"column":12}},{"name":"discounts","generated":{"line":90,"column":24},"source":"controller/createBill.js","original":{"line":81,"column":25}},{"generated":{"line":90,"column":33},"source":"controller/createBill.js","original":{"line":81,"column":12}},{"name":"every","generated":{"line":90,"column":34},"source":"controller/createBill.js","original":{"line":81,"column":35}},{"generated":{"line":90,"column":39},"source":"controller/createBill.js","original":{"line":81,"column":12}},{"generated":{"line":90,"column":40},"source":"controller/createBill.js","original":{"line":81,"column":41}},{"name":"discountSlab","generated":{"line":90,"column":41},"source":"controller/createBill.js","original":{"line":81,"column":42}},{"generated":{"line":90,"column":53},"source":"controller/createBill.js","original":{"line":81,"column":41}},{"name":"i","generated":{"line":90,"column":55},"source":"controller/createBill.js","original":{"line":81,"column":56}},{"generated":{"line":90,"column":56},"source":"controller/createBill.js","original":{"line":81,"column":41}},{"generated":{"line":90,"column":61},"source":"controller/createBill.js","original":{"line":81,"column":62}},{"generated":{"line":91,"column":0},"source":"controller/createBill.js","original":{"line":82,"column":16}},{"name":"bill","generated":{"line":91,"column":12},"source":"controller/createBill.js","original":{"line":82,"column":19}},{"generated":{"line":91,"column":16},"source":"controller/createBill.js","original":{"line":82,"column":23}},{"generated":{"line":91,"column":17},"source":"controller/createBill.js","original":{"line":82,"column":24}},{"generated":{"line":91,"column":30},"source":"controller/createBill.js","original":{"line":82,"column":23}},{"generated":{"line":91,"column":31},"source":"controller/createBill.js","original":{"line":82,"column":19}},{"name":"discountSlab","generated":{"line":91,"column":35},"source":"controller/createBill.js","original":{"line":82,"column":42}},{"generated":{"line":91,"column":47},"source":"controller/createBill.js","original":{"line":82,"column":54}},{"name":"min","generated":{"line":91,"column":48},"source":"controller/createBill.js","original":{"line":82,"column":55}},{"generated":{"line":91,"column":51},"source":"controller/createBill.js","original":{"line":82,"column":16}},{"generated":{"line":91,"column":53},"source":"controller/createBill.js","original":{"line":82,"column":60}},{"generated":{"line":92,"column":0},"source":"controller/createBill.js","original":{"line":83,"column":20}},{"name":"discountSlab","generated":{"line":92,"column":14},"source":"controller/createBill.js","original":{"line":83,"column":23}},{"generated":{"line":92,"column":26},"source":"controller/createBill.js","original":{"line":83,"column":35}},{"name":"max","generated":{"line":92,"column":27},"source":"controller/createBill.js","original":{"line":83,"column":36}},{"generated":{"line":92,"column":30},"source":"controller/createBill.js","original":{"line":83,"column":20}},{"generated":{"line":92,"column":32},"source":"controller/createBill.js","original":{"line":83,"column":41}},{"generated":{"line":93,"column":0},"source":"controller/createBill.js","original":{"line":84,"column":24}},{"name":"discountSlab","generated":{"line":93,"column":16},"source":"controller/createBill.js","original":{"line":84,"column":27}},{"generated":{"line":93,"column":28},"source":"controller/createBill.js","original":{"line":84,"column":39}},{"name":"max","generated":{"line":93,"column":29},"source":"controller/createBill.js","original":{"line":84,"column":40}},{"generated":{"line":93,"column":32},"source":"controller/createBill.js","original":{"line":84,"column":27}},{"name":"bill","generated":{"line":93,"column":36},"source":"controller/createBill.js","original":{"line":84,"column":47}},{"generated":{"line":93,"column":40},"source":"controller/createBill.js","original":{"line":84,"column":51}},{"generated":{"line":93,"column":41},"source":"controller/createBill.js","original":{"line":84,"column":52}},{"generated":{"line":93,"column":54},"source":"controller/createBill.js","original":{"line":84,"column":51}},{"generated":{"line":93,"column":55},"source":"controller/createBill.js","original":{"line":84,"column":24}},{"generated":{"line":93,"column":57},"source":"controller/createBill.js","original":{"line":84,"column":68}},{"name":"bill","generated":{"line":94,"column":0},"source":"controller/createBill.js","original":{"line":85,"column":28}},{"name":"bill","generated":{"line":94,"column":14},"source":"controller/createBill.js","original":{"line":85,"column":28}},{"generated":{"line":94,"column":18},"source":"controller/createBill.js","original":{"line":85,"column":32}},{"generated":{"line":94,"column":19},"source":"controller/createBill.js","original":{"line":85,"column":33}},{"generated":{"line":94,"column":29},"source":"controller/createBill.js","original":{"line":85,"column":32}},{"generated":{"line":94,"column":30},"source":"controller/createBill.js","original":{"line":85,"column":28}},{"name":"parseFloat","generated":{"line":94,"column":33},"source":"controller/createBill.js","original":{"line":85,"column":47}},{"generated":{"line":94,"column":43},"source":"controller/createBill.js","original":{"line":85,"column":57}},{"generated":{"line":94,"column":44},"source":"controller/createBill.js","original":{"line":85,"column":58}},{"name":"bill","generated":{"line":94,"column":45},"source":"controller/createBill.js","original":{"line":85,"column":59}},{"generated":{"line":94,"column":49},"source":"controller/createBill.js","original":{"line":85,"column":63}},{"generated":{"line":94,"column":50},"source":"controller/createBill.js","original":{"line":85,"column":64}},{"generated":{"line":94,"column":63},"source":"controller/createBill.js","original":{"line":85,"column":63}},{"generated":{"line":94,"column":64},"source":"controller/createBill.js","original":{"line":85,"column":59}},{"name":"discountSlab","generated":{"line":94,"column":67},"source":"controller/createBill.js","original":{"line":85,"column":81}},{"generated":{"line":94,"column":79},"source":"controller/createBill.js","original":{"line":85,"column":93}},{"name":"value","generated":{"line":94,"column":80},"source":"controller/createBill.js","original":{"line":85,"column":94}},{"generated":{"line":94,"column":85},"source":"controller/createBill.js","original":{"line":85,"column":59}},{"generated":{"line":94,"column":88},"source":"controller/createBill.js","original":{"line":85,"column":102}},{"generated":{"line":94,"column":91},"source":"controller/createBill.js","original":{"line":85,"column":58}},{"name":"toFixed","generated":{"line":94,"column":93},"source":"controller/createBill.js","original":{"line":85,"column":107}},{"generated":{"line":94,"column":100},"source":"controller/createBill.js","original":{"line":85,"column":58}},{"generated":{"line":94,"column":101},"source":"controller/createBill.js","original":{"line":85,"column":115}},{"generated":{"line":94,"column":102},"source":"controller/createBill.js","original":{"line":85,"column":58}},{"generated":{"line":94,"column":103},"source":"controller/createBill.js","original":{"line":85,"column":57}},{"generated":{"line":94,"column":104},"source":"controller/createBill.js","original":{"line":85,"column":28}},{"name":"bill","generated":{"line":95,"column":0},"source":"controller/createBill.js","original":{"line":86,"column":28}},{"name":"bill","generated":{"line":95,"column":14},"source":"controller/createBill.js","original":{"line":86,"column":28}},{"generated":{"line":95,"column":18},"source":"controller/createBill.js","original":{"line":86,"column":32}},{"name":"totalAmount","generated":{"line":95,"column":19},"source":"controller/createBill.js","original":{"line":86,"column":33}},{"generated":{"line":95,"column":30},"source":"controller/createBill.js","original":{"line":86,"column":28}},{"name":"bill","generated":{"line":95,"column":33},"source":"controller/createBill.js","original":{"line":86,"column":47}},{"generated":{"line":95,"column":37},"source":"controller/createBill.js","original":{"line":86,"column":51}},{"name":"totalAmount","generated":{"line":95,"column":38},"source":"controller/createBill.js","original":{"line":86,"column":52}},{"generated":{"line":95,"column":49},"source":"controller/createBill.js","original":{"line":86,"column":47}},{"name":"bill","generated":{"line":95,"column":52},"source":"controller/createBill.js","original":{"line":86,"column":66}},{"generated":{"line":95,"column":56},"source":"controller/createBill.js","original":{"line":86,"column":70}},{"generated":{"line":95,"column":57},"source":"controller/createBill.js","original":{"line":86,"column":71}},{"generated":{"line":95,"column":67},"source":"controller/createBill.js","original":{"line":86,"column":70}},{"generated":{"line":95,"column":68},"source":"controller/createBill.js","original":{"line":86,"column":28}},{"generated":{"line":96,"column":0},"source":"controller/createBill.js","original":{"line":87,"column":28}},{"generated":{"line":96,"column":21},"source":"controller/createBill.js","original":{"line":87,"column":35}},{"generated":{"line":96,"column":26},"source":"controller/createBill.js","original":{"line":87,"column":28}},{"generated":{"line":97,"column":0},"source":"controller/createBill.js","original":{"line":88,"column":25}},{"generated":{"line":98,"column":0},"source":"controller/createBill.js","original":{"line":89,"column":21}},{"generated":{"line":98,"column":11},"source":"controller/createBill.js","original":{"line":83,"column":20}},{"generated":{"line":98,"column":17},"source":"controller/createBill.js","original":{"line":89,"column":27}},{"name":"bill","generated":{"line":99,"column":0},"source":"controller/createBill.js","original":{"line":90,"column":24}},{"name":"bill","generated":{"line":99,"column":12},"source":"controller/createBill.js","original":{"line":90,"column":24}},{"generated":{"line":99,"column":16},"source":"controller/createBill.js","original":{"line":90,"column":28}},{"generated":{"line":99,"column":17},"source":"controller/createBill.js","original":{"line":90,"column":29}},{"generated":{"line":99,"column":27},"source":"controller/createBill.js","original":{"line":90,"column":28}},{"generated":{"line":99,"column":28},"source":"controller/createBill.js","original":{"line":90,"column":24}},{"name":"parseFloat","generated":{"line":99,"column":31},"source":"controller/createBill.js","original":{"line":90,"column":43}},{"generated":{"line":99,"column":41},"source":"controller/createBill.js","original":{"line":90,"column":53}},{"generated":{"line":99,"column":42},"source":"controller/createBill.js","original":{"line":90,"column":54}},{"name":"bill","generated":{"line":99,"column":43},"source":"controller/createBill.js","original":{"line":90,"column":55}},{"generated":{"line":99,"column":47},"source":"controller/createBill.js","original":{"line":90,"column":59}},{"generated":{"line":99,"column":48},"source":"controller/createBill.js","original":{"line":90,"column":60}},{"generated":{"line":99,"column":61},"source":"controller/createBill.js","original":{"line":90,"column":59}},{"generated":{"line":99,"column":62},"source":"controller/createBill.js","original":{"line":90,"column":55}},{"name":"discountSlab","generated":{"line":99,"column":65},"source":"controller/createBill.js","original":{"line":90,"column":77}},{"generated":{"line":99,"column":77},"source":"controller/createBill.js","original":{"line":90,"column":89}},{"name":"value","generated":{"line":99,"column":78},"source":"controller/createBill.js","original":{"line":90,"column":90}},{"generated":{"line":99,"column":83},"source":"controller/createBill.js","original":{"line":90,"column":55}},{"generated":{"line":99,"column":86},"source":"controller/createBill.js","original":{"line":90,"column":98}},{"generated":{"line":99,"column":89},"source":"controller/createBill.js","original":{"line":90,"column":54}},{"name":"toFixed","generated":{"line":99,"column":91},"source":"controller/createBill.js","original":{"line":90,"column":103}},{"generated":{"line":99,"column":98},"source":"controller/createBill.js","original":{"line":90,"column":54}},{"generated":{"line":99,"column":99},"source":"controller/createBill.js","original":{"line":90,"column":111}},{"generated":{"line":99,"column":100},"source":"controller/createBill.js","original":{"line":90,"column":54}},{"generated":{"line":99,"column":101},"source":"controller/createBill.js","original":{"line":90,"column":53}},{"generated":{"line":99,"column":102},"source":"controller/createBill.js","original":{"line":90,"column":24}},{"name":"bill","generated":{"line":100,"column":0},"source":"controller/createBill.js","original":{"line":91,"column":24}},{"name":"bill","generated":{"line":100,"column":12},"source":"controller/createBill.js","original":{"line":91,"column":24}},{"generated":{"line":100,"column":16},"source":"controller/createBill.js","original":{"line":91,"column":28}},{"name":"totalAmount","generated":{"line":100,"column":17},"source":"controller/createBill.js","original":{"line":91,"column":29}},{"generated":{"line":100,"column":28},"source":"controller/createBill.js","original":{"line":91,"column":24}},{"name":"bill","generated":{"line":100,"column":31},"source":"controller/createBill.js","original":{"line":91,"column":43}},{"generated":{"line":100,"column":35},"source":"controller/createBill.js","original":{"line":91,"column":47}},{"name":"totalAmount","generated":{"line":100,"column":36},"source":"controller/createBill.js","original":{"line":91,"column":48}},{"generated":{"line":100,"column":47},"source":"controller/createBill.js","original":{"line":91,"column":43}},{"name":"bill","generated":{"line":100,"column":50},"source":"controller/createBill.js","original":{"line":91,"column":62}},{"generated":{"line":100,"column":54},"source":"controller/createBill.js","original":{"line":91,"column":66}},{"generated":{"line":100,"column":55},"source":"controller/createBill.js","original":{"line":91,"column":67}},{"generated":{"line":100,"column":65},"source":"controller/createBill.js","original":{"line":91,"column":66}},{"generated":{"line":100,"column":66},"source":"controller/createBill.js","original":{"line":91,"column":24}},{"generated":{"line":101,"column":0},"source":"controller/createBill.js","original":{"line":92,"column":24}},{"generated":{"line":101,"column":19},"source":"controller/createBill.js","original":{"line":92,"column":31}},{"generated":{"line":101,"column":24},"source":"controller/createBill.js","original":{"line":92,"column":24}},{"generated":{"line":102,"column":0},"source":"controller/createBill.js","original":{"line":93,"column":21}},{"generated":{"line":103,"column":0},"source":"controller/createBill.js","original":{"line":94,"column":17}},{"generated":{"line":105,"column":0},"source":"controller/createBill.js","original":{"line":95,"column":16}},{"generated":{"line":105,"column":15},"source":"controller/createBill.js","original":{"line":95,"column":23}},{"generated":{"line":105,"column":19},"source":"controller/createBill.js","original":{"line":95,"column":16}},{"generated":{"line":106,"column":0},"source":"controller/createBill.js","original":{"line":96,"column":13}},{"generated":{"line":106,"column":7},"source":"controller/createBill.js","original":{"line":81,"column":12}},{"generated":{"line":107,"column":0},"source":"controller/createBill.js","original":{"line":97,"column":9}},{"name":"res","generated":{"line":109,"column":0},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"name":"res","generated":{"line":109,"column":4},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"generated":{"line":109,"column":7},"source":"controller/createBill.js","original":{"line":99,"column":11}},{"name":"status","generated":{"line":109,"column":8},"source":"controller/createBill.js","original":{"line":99,"column":12}},{"generated":{"line":109,"column":14},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"generated":{"line":109,"column":15},"source":"controller/createBill.js","original":{"line":99,"column":19}},{"generated":{"line":109,"column":18},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"name":"json","generated":{"line":109,"column":20},"source":"controller/createBill.js","original":{"line":99,"column":24}},{"generated":{"line":109,"column":24},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"name":"bill","generated":{"line":109,"column":25},"source":"controller/createBill.js","original":{"line":99,"column":29}},{"generated":{"line":109,"column":29},"source":"controller/createBill.js","original":{"line":99,"column":8}},{"generated":{"line":110,"column":0},"source":"controller/createBill.js","original":{"line":100,"column":5}},{"generated":{"line":110,"column":3},"source":"controller/createBill.js","original":{"line":5,"column":4}},{"generated":{"line":110,"column":4},"source":"controller/createBill.js","original":{"line":100,"column":6}},{"name":"e","generated":{"line":110,"column":11},"source":"controller/createBill.js","original":{"line":100,"column":12}},{"generated":{"line":110,"column":12},"source":"controller/createBill.js","original":{"line":100,"column":6}},{"generated":{"line":110,"column":14},"source":"controller/createBill.js","original":{"line":100,"column":15}},{"name":"console","generated":{"line":111,"column":0},"source":"controller/createBill.js","original":{"line":101,"column":8}},{"name":"console","generated":{"line":111,"column":4},"source":"controller/createBill.js","original":{"line":101,"column":8}},{"generated":{"line":111,"column":11},"source":"controller/createBill.js","original":{"line":101,"column":15}},{"name":"log","generated":{"line":111,"column":12},"source":"controller/createBill.js","original":{"line":101,"column":16}},{"generated":{"line":111,"column":15},"source":"controller/createBill.js","original":{"line":101,"column":8}},{"generated":{"line":111,"column":16},"source":"controller/createBill.js","original":{"line":101,"column":20}},{"generated":{"line":111,"column":54},"source":"controller/createBill.js","original":{"line":101,"column":8}},{"name":"e","generated":{"line":111,"column":56},"source":"controller/createBill.js","original":{"line":101,"column":60}},{"generated":{"line":111,"column":57},"source":"controller/createBill.js","original":{"line":101,"column":8}},{"name":"res","generated":{"line":112,"column":0},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"name":"res","generated":{"line":112,"column":4},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"generated":{"line":112,"column":7},"source":"controller/createBill.js","original":{"line":102,"column":11}},{"name":"status","generated":{"line":112,"column":8},"source":"controller/createBill.js","original":{"line":102,"column":12}},{"generated":{"line":112,"column":14},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"generated":{"line":112,"column":15},"source":"controller/createBill.js","original":{"line":102,"column":19}},{"generated":{"line":112,"column":18},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"name":"json","generated":{"line":112,"column":20},"source":"controller/createBill.js","original":{"line":102,"column":24}},{"generated":{"line":112,"column":24},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"generated":{"line":112,"column":25},"source":"controller/createBill.js","original":{"line":102,"column":29}},{"generated":{"line":112,"column":49},"source":"controller/createBill.js","original":{"line":102,"column":8}},{"generated":{"line":113,"column":0},"source":"controller/createBill.js","original":{"line":103,"column":5}},{"generated":{"line":114,"column":0},"source":"controller/createBill.js","original":{"line":104,"column":1}}],"sources":{"controller/createBill.js":"import { Tax } from \"../constants/tax\"\nimport async from \"async\"\n\nexport default function createBill(req, res) {\n    try {\n        let items = req.body.items\n        let bill = {\n            dateOfPurchase: new Date(),\n            timeOfPurchase: new Date(),\n            discount: 0,\n            totalAmount: 0 \n        }\n\n        async.each(items, (item, cb) => {\n            try {\n                item[\"priceBeforeTax\"] = item.quantity * item.price\n                let taxCategory = Tax[item.itemCategory]\n                taxCategory.taxes.every((taxSlab, i) => {\n                    if(item[\"priceBeforeTax\"] >= taxSlab.min) {\n                        if(taxSlab.max){\n                            if(item[\"priceBeforeTax\"] <= taxSlab.max) {\n                                item[\"tax\"] = parseFloat((item[\"priceBeforeTax\"] * taxSlab.value / 100).toFixed(2))\n                                item[\"finalPrice\"] = item[\"priceBeforeTax\"] + item[\"tax\"]\n                                bill.totalAmount = item[\"finalPrice\"];\n                                return false;\n                            }\n                        } else {\n                            item[\"tax\"] = parseFloat((item[\"priceBeforeTax\"] * taxSlab.value / 100).toFixed(2))\n                            item[\"finalPrice\"] = item[\"priceBeforeTax\"] + item[\"tax\"]\n                            bill.totalAmount += item[\"finalPrice\"];\n                            return false;\n                        }\n                    }\n                    return true;\n                })\n                cb()\n            } catch (e) {\n                cb(e)\n            }\n        }, (err) => {\n            if (err) {\n                console.log(\"Error occured while creating bill : \", err)\n                res.status(500).json(\"Error in creating bill\")\n            }\n        });\n\n        /* Using Promises\n        calculateBill(item) {\n            return new Promise((resolve, reject) => {\n                resolve(item)\n                reject({message: , error})\n            })\n        }\n        calculatediscount() {\n            Tax[\"total\"]\n            resolve(bill)\n\n        }\n\n        Promise.all([calculateBill(0), calculateBill(1)])\n            .then(results => {\n                if (results && results.length) {\n                    results[0] = item[0]\n                }\n                bill.items.push(results[i])\n                return calculatediscount(bill)\n            })\n            .then(bill => {\n                res.status(200).json(bill)\n            })\n            .catch(e => {\n                console.log()\n                res.status(500).json({message: })\n            })\n        \n        */\n\n        bill[\"items\"] = items;\n\n        if (Tax[\"Total\"] && Tax[\"Total\"].discounts && Tax[\"Total\"].discounts.length) {\n            Tax[\"Total\"].discounts.every((discountSlab, i) => {\n                if(bill[\"totalAmount\"] >= discountSlab.min) {\n                    if(discountSlab.max) {\n                        if(discountSlab.max >= bill[\"totalAmount\"]) {\n                            bill[\"discount\"] = parseFloat((bill[\"totalAmount\"] * discountSlab.value / 100).toFixed(2))\n                            bill.totalAmount = bill.totalAmount - bill[\"discount\"]\n                            return false;\n                        }\n                    } else {\n                        bill[\"discount\"] = parseFloat((bill[\"totalAmount\"] * discountSlab.value / 100).toFixed(2))\n                        bill.totalAmount = bill.totalAmount - bill[\"discount\"]\n                        return false;\n                    }\n                }\n                return true\n            })\n        }\n\n        res.status(200).json(bill)\n    } catch(e) {\n        console.log(\"Error occured while creating bill : \", e)\n        res.status(500).json(\"Error in creating bill\")\n    }\n}"},"lineCount":null}},"error":null,"hash":"ed861ebcc9c8c3d6c697f373a7843f34","cacheData":{"env":{}}}